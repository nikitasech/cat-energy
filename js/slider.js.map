{"version":3,"sources":["slider.js"],"names":["BarPadding","zeroizePin","sliderElement","callback","sliderPinElement","querySelector","style","transition","marginLeft","setTimeout","fillPin","sliderBarElement","innerWidth","offsetWidth","window","slider","movePin","evt","SliderLimit","mouseCoordinateX","clientX","pinShift","currentTarget","getBoundingClientRect","left","barPosition","onPinMove","evtMove","preventDefault","pinCoordinateX","Math","max","min","pinPercent","document","addEventListener","onPinMouseUp","removeEventListener","switchPin","zeroizeCallback","fillCallback","offsetLeft"],"mappings":"CAAA,WACE,IAAIA,EACI,EADJA,EAEK,EAsDT,SAASC,EAAWC,EAAeC,GACjC,IAAIC,EAAmBF,EAAcG,cAAc,mBAEnDD,EAAiBE,MAAMC,WAAa,+BACpCH,EAAiBE,MAAME,WAAa,IAEpCC,YAAW,WACTL,EAAiBE,MAAMC,WAAa,SACnC,KAEHJ,EAAS,GAGX,SAASO,EAAQR,EAAeC,GAC9B,IAAIQ,EAAmBT,EAAcG,cAAc,gBAC/CD,EAAmBO,EAAiBN,cAAc,mBAEtDD,EAAiBE,MAAMC,WAAa,+BAEhCK,YAAc,IAChBR,EAAiBE,MAAME,WAAgBG,EAAiBE,YAAcT,EAAiBS,YAAc,EAAjE,KAEpCT,EAAiBE,MAAME,WAAgBG,EAAiBE,YAAcT,EAAiBS,YAAcb,EAAkBA,EAAmB,EAAtG,KAGtCS,YAAW,WACTL,EAAiBE,MAAMC,WAAa,SACnC,KAEHJ,EAAS,KAGXW,OAAOC,OAAS,CACdC,QApFF,SAAuBC,EAAKf,EAAeC,GACzC,IAAIQ,EAAmBT,EAAcG,cAAc,gBAC/CD,EAAmBO,EAAiBN,cAAc,mBAElDa,EACI,EADJA,EAEKP,EAAiBE,YAAcT,EAAiBS,YAGrDM,EAAmBF,EAAIG,QACvBC,EAAWF,EAAmBF,EAAIK,cAAcC,wBAAwBC,KACxEC,EAAcd,EAAiBY,wBAEnC,SAASG,EAAUC,GACjBA,EAAQC,iBAGRT,EAAmBQ,EAAQP,QAE3B,IAAIS,EAAiBC,KAAKC,IACxBb,EAAmBG,EACnBS,KAAKE,IACHd,EAAoBG,EACpBF,EAAmBM,EAAYD,OAE/BH,EAEJjB,EAAiBE,MAAME,WAAgBqB,EAAH,KACpC,IAAII,EAAa,KAAOtB,EAAiBE,YAAcT,EAAiBS,aAAegB,EACvF1B,EAAS8B,GAQXC,SAASC,iBAAiB,YAAaT,GACvCQ,SAASC,iBAAiB,WAN1B,SAASC,IACPF,SAASG,oBAAoB,YAAaX,GAC1CQ,SAASG,oBAAoB,UAAWD,OAmD1CE,UA5CF,SAAmBpC,EAAeqC,EAAiBC,GAC1BtC,EAAcG,cAAc,mBAE9BoC,aAAezC,EAClCU,EAAQR,EAAesC,GAEvBvC,EAAWC,EAAeqC,IAuC5BtC,WAAYA,EACZS,QAASA,GA7Fb","file":"slider.js","sourcesContent":["(function () {\n  var BarPadding = {\n    LEFT: 5,\n    RIGHT: 5,\n  };\n\n  function moveSliderPin(evt, sliderElement, callback) {\n    var sliderBarElement = sliderElement.querySelector('.slider__bar');\n    var sliderPinElement = sliderBarElement.querySelector('.slider__button');\n\n    var SliderLimit = {\n      LEFT: 0,\n      RIGHT: sliderBarElement.offsetWidth - sliderPinElement.offsetWidth,\n    };\n\n    var mouseCoordinateX = evt.clientX;\n    var pinShift = mouseCoordinateX - evt.currentTarget.getBoundingClientRect().left;\n    var barPosition = sliderBarElement.getBoundingClientRect();\n\n    function onPinMove(evtMove) {\n      evtMove.preventDefault();\n\n      // Обновим координаты мыши\n      mouseCoordinateX = evtMove.clientX;\n\n      var pinCoordinateX = Math.max(\n        SliderLimit.LEFT + pinShift,\n        Math.min(\n          SliderLimit.RIGHT + pinShift,\n          mouseCoordinateX - barPosition.left\n        )\n      ) - pinShift;\n\n      sliderPinElement.style.marginLeft = `${pinCoordinateX}px`;\n      var pinPercent = 100 / (sliderBarElement.offsetWidth - sliderPinElement.offsetWidth) * pinCoordinateX;\n      callback(pinPercent);\n    }\n\n    function onPinMouseUp() {\n      document.removeEventListener('mousemove', onPinMove);\n      document.removeEventListener('mouseup', onPinMouseUp);\n    }\n\n    document.addEventListener('mousemove', onPinMove);\n    document.addEventListener('mouseup', onPinMouseUp);\n  }\n\n  function switchPin(sliderElement, zeroizeCallback, fillCallback) {\n    var sliderPinElement = sliderElement.querySelector('.slider__button');\n\n    if (sliderPinElement.offsetLeft === BarPadding.LEFT) {\n      fillPin(sliderElement, fillCallback);\n    } else {\n      zeroizePin(sliderElement, zeroizeCallback);\n    }\n  }\n\n  function zeroizePin(sliderElement, callback) {\n    var sliderPinElement = sliderElement.querySelector('.slider__button');\n\n    sliderPinElement.style.transition = `margin-left ease-in-out 0.4s`;\n    sliderPinElement.style.marginLeft = `0`;\n\n    setTimeout(function () {\n      sliderPinElement.style.transition = `none`;\n    }, 400);\n\n    callback(0);\n  }\n\n  function fillPin(sliderElement, callback) {\n    var sliderBarElement = sliderElement.querySelector('.slider__bar');\n    var sliderPinElement = sliderBarElement.querySelector('.slider__button');\n\n    sliderPinElement.style.transition = `margin-left ease-in-out 0.4s`;\n\n    if (innerWidth >= 768) {\n      sliderPinElement.style.marginLeft = `${sliderBarElement.offsetWidth - sliderPinElement.offsetWidth - 1}px`;\n    } else {\n      sliderPinElement.style.marginLeft = `${sliderBarElement.offsetWidth - sliderPinElement.offsetWidth - BarPadding.LEFT - BarPadding.RIGHT - 1}px`;\n    }\n\n    setTimeout(function () {\n      sliderPinElement.style.transition = `none`;\n    }, 400);\n\n    callback(100);\n  }\n\n  window.slider = {\n    movePin: moveSliderPin,\n    switchPin: switchPin,\n    zeroizePin: zeroizePin,\n    fillPin: fillPin\n  };\n})();\n"]}